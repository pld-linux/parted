diff -ur parted-1.6.5/libparted/disk_gpt.c parted-1.6.5-/libparted/disk_gpt.c
--- parted-1.6.5/libparted/disk_gpt.c	Sun Feb 23 10:44:09 2003
+++ parted-1.6.5-/libparted/disk_gpt.c	Thu May 22 22:45:18 2003
@@ -51,7 +51,7 @@
 #define EFI_PMBR_OSTYPE_EFI 0xEE
 #define MSDOS_MBR_SIGNATURE 0xaa55
 
-#define GPT_HEADER_SIGNATURE 0x5452415020494645
+#define GPT_HEADER_SIGNATURE 0x5452415020494645LL
 #define GPT_HEADER_REVISION_V1_00 0x00010000
 #define GPT_HEADER_REVISION_V0_99 0x00009900
 
diff -ur parted-1.6.5/libparted/fs_ext2/ext2.c parted-1.6.5-/libparted/fs_ext2/ext2.c
--- parted-1.6.5/libparted/fs_ext2/ext2.c	Sun Apr  7 22:59:45 2002
+++ parted-1.6.5-/libparted/fs_ext2/ext2.c	Thu May 22 22:44:05 2003
@@ -355,8 +355,8 @@
 	inode->i_blocks = PED_CPU_TO_LE32(EXT2_INODE_BLOCKS(*inode)
 		       			  + delta * i512perblock);
 	size = EXT2_INODE_SIZE(*inode) + delta * fs->blocksize;
-	inode->i_size = PED_CPU_TO_LE32(size % 0x100000000);
-	inode->i_size_high = PED_CPU_TO_LE32(size / 0x100000000);
+	inode->i_size = PED_CPU_TO_LE32(size % 0x100000000LL);
+	inode->i_size_high = PED_CPU_TO_LE32(size / 0x100000000LL);
 	inode->i_mtime = PED_CPU_TO_LE32(time(NULL));
 }
 
