--- parted-1.7.0/include/parted/device.h.P3	2006-05-15 05:19:17.000000000 -0400
+++ parted-1.7.0/include/parted/device.h	2006-05-19 10:24:48.000000000 -0400
@@ -42,7 +42,8 @@
         PED_DEVICE_FILE         = 5,
         PED_DEVICE_ATARAID      = 6,
         PED_DEVICE_I2O          = 7,
-        PED_DEVICE_UBD          = 8
+        PED_DEVICE_UBD          = 8,
+        PED_DEVICE_SX8          = 11
 } PedDeviceType;
 
 typedef struct _PedDevice PedDevice;
--- parted-1.7.0/libparted/arch/linux.c.P3	2006-05-15 05:19:52.000000000 -0400
+++ parted-1.7.0/libparted/arch/linux.c	2006-05-19 10:23:14.000000000 -0400
@@ -229,6 +229,8 @@
 #define I2O_MAJOR7              86
 #define I2O_MAJOR8              87
 #define UBD_MAJOR               98
+#define SX8_MAJOR1              160
+#define SX8_MAJOR2              161
 
 #define SCSI_BLK_MAJOR(M) (                                             \
                 (M) == SCSI_DISK0_MAJOR                                 \
@@ -269,6 +271,12 @@
 }
 
 static int
+_is_sx8_major (int major)
+{
+        return (SX8_MAJOR1 <= major && major <= SX8_MAJOR2);
+}
+
+static int
 _device_stat (PedDevice* dev, struct stat * dev_stat)
 {
         PED_ASSERT (dev != NULL, return 0);
@@ -317,6 +325,8 @@
                 dev->type = PED_DEVICE_DAC960;
         } else if (dev_major == ATARAID_MAJOR && (dev_minor % 0x10 == 0)) {
                 dev->type = PED_DEVICE_ATARAID;
+        } else if (_is_sx8_major(dev_major) && (dev_minor % 0x20 == 0)) {
+                dev->type = PED_DEVICE_SX8;
         } else if (_is_i2o_major (dev_major) && (dev_minor % 0x10 == 0)) {
                 dev->type = PED_DEVICE_I2O;
         } else if (_is_cpqarray_major (dev_major) && (dev_minor % 0x10 == 0)) {
@@ -904,6 +914,11 @@
                         goto error_free_arch_specific;
                 break;
 
+        case PED_DEVICE_SX8:
+                if (!init_generic (dev, _("Promise SX8 SATA Device")))
+                        goto error_free_arch_specific;
+                break;
+
         case PED_DEVICE_CPQARRAY:
                 if (!init_generic (dev, _("Compaq Smart Array")))
                         goto error_free_arch_specific;
